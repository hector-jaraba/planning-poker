"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/sessions/route";
exports.ids = ["app/api/sessions/route"];
exports.modules = {

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsessions%2Froute&page=%2Fapi%2Fsessions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2Froute.ts&appDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsessions%2Froute&page=%2Fapi%2Fsessions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2Froute.ts&appDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_hector_jaraba_Proyects_cursor_planning_poker_src_app_api_sessions_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/sessions/route.ts */ \"(rsc)/./src/app/api/sessions/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/sessions/route\",\n        pathname: \"/api/sessions\",\n        filename: \"route\",\n        bundlePath: \"app/api/sessions/route\"\n    },\n    resolvedPagePath: \"/Users/hector.jaraba/Proyects/cursor-planning-poker/src/app/api/sessions/route.ts\",\n    nextConfigOutput,\n    userland: _Users_hector_jaraba_Proyects_cursor_planning_poker_src_app_api_sessions_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/sessions/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZXNzaW9ucyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2Vzc2lvbnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZXNzaW9ucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmhlY3Rvci5qYXJhYmElMkZQcm95ZWN0cyUyRmN1cnNvci1wbGFubmluZy1wb2tlciUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZoZWN0b3IuamFyYWJhJTJGUHJveWVjdHMlMkZjdXJzb3ItcGxhbm5pbmctcG9rZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDc0Q7QUFDdkM7QUFDK0M7QUFDOUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3Vyc29yLXBsYW5uaW5nLXBva2VyLz81ODRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIm5leHQvZGlzdC9zZXJ2ZXIvbm9kZS1wb2x5ZmlsbC1oZWFkZXJzXCI7XG5pbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvaGVjdG9yLmphcmFiYS9Qcm95ZWN0cy9jdXJzb3ItcGxhbm5pbmctcG9rZXIvc3JjL2FwcC9hcGkvc2Vzc2lvbnMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Nlc3Npb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2Vzc2lvbnNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Nlc3Npb25zL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2hlY3Rvci5qYXJhYmEvUHJveWVjdHMvY3Vyc29yLXBsYW5uaW5nLXBva2VyL3NyYy9hcHAvYXBpL3Nlc3Npb25zL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Nlc3Npb25zL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsessions%2Froute&page=%2Fapi%2Fsessions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2Froute.ts&appDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var _auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @auth/mongodb-adapter */ \"(rsc)/./node_modules/@auth/mongodb-adapter/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/./node_modules/next-auth/providers/github.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\n// Define User model\nlet UserModel;\ntry {\n    // Try to get the model if it exists\n    UserModel = mongoose__WEBPACK_IMPORTED_MODULE_8___default().model(\"User\");\n} catch (e) {\n    // Define User schema if not already defined\n    const UserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_8___default().Schema)({\n        name: String,\n        email: {\n            type: String,\n            unique: true,\n            required: true\n        },\n        password: String,\n        role: {\n            type: String,\n            enum: [\n                \"user\",\n                \"admin\"\n            ],\n            default: \"user\"\n        },\n        createdAt: {\n            type: Date,\n            default: Date.now\n        }\n    });\n    // Create the model\n    UserModel = mongoose__WEBPACK_IMPORTED_MODULE_8___default().model(\"User\", UserSchema);\n}\nconst authOptions = {\n    providers: [\n        // Add OAuth providers if you have them\n        (0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            clientId: process.env.GITHUB_ID || \"\",\n            clientSecret: process.env.GITHUB_SECRET || \"\"\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n            clientId: process.env.GOOGLE_ID || \"\",\n            clientSecret: process.env.GOOGLE_SECRET || \"\"\n        }),\n        // Add credentials provider for email/password\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                await (0,_lib_db__WEBPACK_IMPORTED_MODULE_7__.connect)();\n                // Find user by email\n                const user = await UserModel.findOne({\n                    email: credentials.email\n                });\n                // If no user found or password doesn't match\n                if (!user || !user.password) {\n                    return null;\n                }\n                // Check password\n                const isPasswordValid = await (0,bcrypt__WEBPACK_IMPORTED_MODULE_5__.compare)(credentials.password, user.password);\n                if (!isPasswordValid) {\n                    return null;\n                }\n                // Return user object without password\n                return {\n                    id: user._id.toString(),\n                    name: user.name,\n                    email: user.email,\n                    role: user.role\n                };\n            }\n        })\n    ],\n    adapter: (0,_auth_mongodb_adapter__WEBPACK_IMPORTED_MODULE_1__.MongoDBAdapter)(_lib_mongodb__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            // Add user role to the token when user signs in\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            // Add user id and role to the session\n            if (session.user) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\",\n        // Add custom pages here\n        newUser: \"/auth/signup\"\n    }\n};\nconst handler = (0,next_auth_next__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFFaUI7QUFDVztBQUNWO0FBQ0E7QUFDdkI7QUFDUztBQUNQO0FBQ0g7QUFFaEMsb0JBQW9CO0FBQ3BCLElBQUlTO0FBRUosSUFBSTtJQUNGLG9DQUFvQztJQUNwQ0EsWUFBWUQscURBQWMsQ0FBQztBQUM3QixFQUFFLE9BQU9HLEdBQUc7SUFDViw0Q0FBNEM7SUFDNUMsTUFBTUMsYUFBYSxJQUFJSix3REFBZSxDQUFDO1FBQ3JDTSxNQUFNQztRQUNOQyxPQUFPO1lBQ0xDLE1BQU1GO1lBQ05HLFFBQVE7WUFDUkMsVUFBVTtRQUNaO1FBQ0FDLFVBQVVMO1FBQ1ZNLE1BQU07WUFDSkosTUFBTUY7WUFDTk8sTUFBTTtnQkFBQztnQkFBUTthQUFRO1lBQ3ZCQyxTQUFTO1FBQ1g7UUFDQUMsV0FBVztZQUNUUCxNQUFNUTtZQUNORixTQUFTRSxLQUFLQyxHQUFHO1FBQ25CO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkJqQixZQUFZRCxxREFBYyxDQUFDLFFBQVFJO0FBQ3JDO0FBRU8sTUFBTWUsY0FBK0I7SUFDMUNDLFdBQVc7UUFDVCx1Q0FBdUM7UUFDdkN6QixzRUFBY0EsQ0FBQztZQUNiMEIsVUFBVUMsUUFBUUMsR0FBRyxDQUFDQyxTQUFTLElBQUk7WUFDbkNDLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0csYUFBYSxJQUFJO1FBQzdDO1FBQ0E5QixzRUFBY0EsQ0FBQztZQUNieUIsVUFBVUMsUUFBUUMsR0FBRyxDQUFDSSxTQUFTLElBQUk7WUFDbkNGLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0ssYUFBYSxJQUFJO1FBQzdDO1FBQ0EsOENBQThDO1FBQzlDbEMsMkVBQW1CQSxDQUFDO1lBQ2xCWSxNQUFNO1lBQ051QixhQUFhO2dCQUNYckIsT0FBTztvQkFBRXNCLE9BQU87b0JBQVNyQixNQUFNO2dCQUFRO2dCQUN2Q0csVUFBVTtvQkFBRWtCLE9BQU87b0JBQVlyQixNQUFNO2dCQUFXO1lBQ2xEO1lBQ0EsTUFBTXNCLFdBQVVGLFdBQVc7Z0JBQ3pCLElBQUksQ0FBQ0EsYUFBYXJCLFNBQVMsQ0FBQ3FCLGFBQWFqQixVQUFVO29CQUNqRCxPQUFPO2dCQUNUO2dCQUVBLE1BQU1iLGdEQUFPQTtnQkFFYixxQkFBcUI7Z0JBQ3JCLE1BQU1pQyxPQUFPLE1BQU0vQixVQUFVZ0MsT0FBTyxDQUFDO29CQUFFekIsT0FBT3FCLFlBQVlyQixLQUFLO2dCQUFDO2dCQUVoRSw2Q0FBNkM7Z0JBQzdDLElBQUksQ0FBQ3dCLFFBQVEsQ0FBQ0EsS0FBS3BCLFFBQVEsRUFBRTtvQkFDM0IsT0FBTztnQkFDVDtnQkFFQSxpQkFBaUI7Z0JBQ2pCLE1BQU1zQixrQkFBa0IsTUFBTXJDLCtDQUFPQSxDQUNuQ2dDLFlBQVlqQixRQUFRLEVBQ3BCb0IsS0FBS3BCLFFBQVE7Z0JBR2YsSUFBSSxDQUFDc0IsaUJBQWlCO29CQUNwQixPQUFPO2dCQUNUO2dCQUVBLHNDQUFzQztnQkFDdEMsT0FBTztvQkFDTEMsSUFBSUgsS0FBS0ksR0FBRyxDQUFDQyxRQUFRO29CQUNyQi9CLE1BQU0wQixLQUFLMUIsSUFBSTtvQkFDZkUsT0FBT3dCLEtBQUt4QixLQUFLO29CQUNqQkssTUFBTW1CLEtBQUtuQixJQUFJO2dCQUNqQjtZQUNGO1FBQ0Y7S0FDRDtJQUNEeUIsU0FBUzdDLHFFQUFjQSxDQUFDSyxvREFBYUE7SUFDckN5QyxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxXQUFXO1FBQ1QsTUFBTUMsS0FBSSxFQUFFQyxLQUFLLEVBQUVYLElBQUksRUFBRTtZQUN2QixnREFBZ0Q7WUFDaEQsSUFBSUEsTUFBTTtnQkFDUlcsTUFBTVIsRUFBRSxHQUFHSCxLQUFLRyxFQUFFO2dCQUNsQlEsTUFBTTlCLElBQUksR0FBR21CLEtBQUtuQixJQUFJO1lBQ3hCO1lBQ0EsT0FBTzhCO1FBQ1Q7UUFDQSxNQUFNSixTQUFRLEVBQUVBLE9BQU8sRUFBRUksS0FBSyxFQUFFO1lBQzlCLHNDQUFzQztZQUN0QyxJQUFJSixRQUFRUCxJQUFJLEVBQUU7Z0JBQ2hCTyxRQUFRUCxJQUFJLENBQUNHLEVBQUUsR0FBR1EsTUFBTVIsRUFBRTtnQkFDMUJJLFFBQVFQLElBQUksQ0FBQ25CLElBQUksR0FBRzhCLE1BQU05QixJQUFJO1lBQ2hDO1lBQ0EsT0FBTzBCO1FBQ1Q7SUFDRjtJQUNBSyxPQUFPO1FBQ0xDLFFBQVE7UUFDUix3QkFBd0I7UUFDeEJDLFNBQVM7SUFDWDtBQUNGLEVBQUU7QUFFRixNQUFNQyxVQUFVdkQsMERBQVFBLENBQUMyQjtBQUNrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2N1cnNvci1wbGFubmluZy1wb2tlci8uL3NyYy9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cz8wMDk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoL25leHRcIjtcbmltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCB7IE1vbmdvREJBZGFwdGVyIH0gZnJvbSBcIkBhdXRoL21vbmdvZGItYWRhcHRlclwiO1xuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIjtcbmltcG9ydCBHaXRIdWJQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9naXRodWJcIjtcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGVcIjtcbmltcG9ydCB7IGNvbXBhcmUgfSBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgY2xpZW50UHJvbWlzZSBmcm9tIFwiQC9saWIvbW9uZ29kYlwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJAL2xpYi9kYlwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG4vLyBEZWZpbmUgVXNlciBtb2RlbFxubGV0IFVzZXJNb2RlbDogbW9uZ29vc2UuTW9kZWw8YW55PjtcblxudHJ5IHtcbiAgLy8gVHJ5IHRvIGdldCB0aGUgbW9kZWwgaWYgaXQgZXhpc3RzXG4gIFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiKTtcbn0gY2F0Y2ggKGUpIHtcbiAgLy8gRGVmaW5lIFVzZXIgc2NoZW1hIGlmIG5vdCBhbHJlYWR5IGRlZmluZWRcbiAgY29uc3QgVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIG5hbWU6IFN0cmluZyxcbiAgICBlbWFpbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBwYXNzd29yZDogU3RyaW5nLFxuICAgIHJvbGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGVudW06IFtcInVzZXJcIiwgXCJhZG1pblwiXSxcbiAgICAgIGRlZmF1bHQ6IFwidXNlclwiLFxuICAgIH0sXG4gICAgY3JlYXRlZEF0OiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIHRoZSBtb2RlbFxuICBVc2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgVXNlclNjaGVtYSk7XG59XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICAvLyBBZGQgT0F1dGggcHJvdmlkZXJzIGlmIHlvdSBoYXZlIHRoZW1cbiAgICBHaXRIdWJQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR0lUSFVCX0lEIHx8IFwiXCIsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQgfHwgXCJcIixcbiAgICB9KSxcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0lEIHx8IFwiXCIsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9TRUNSRVQgfHwgXCJcIixcbiAgICB9KSxcbiAgICAvLyBBZGQgY3JlZGVudGlhbHMgcHJvdmlkZXIgZm9yIGVtYWlsL3Bhc3N3b3JkXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBlbWFpbDogeyBsYWJlbDogXCJFbWFpbFwiLCB0eXBlOiBcImVtYWlsXCIgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGNvbm5lY3QoKTtcblxuICAgICAgICAvLyBGaW5kIHVzZXIgYnkgZW1haWxcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0pO1xuXG4gICAgICAgIC8vIElmIG5vIHVzZXIgZm91bmQgb3IgcGFzc3dvcmQgZG9lc24ndCBtYXRjaFxuICAgICAgICBpZiAoIXVzZXIgfHwgIXVzZXIucGFzc3dvcmQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIHBhc3N3b3JkXG4gICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGNvbXBhcmUoXG4gICAgICAgICAgY3JlZGVudGlhbHMucGFzc3dvcmQsXG4gICAgICAgICAgdXNlci5wYXNzd29yZFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdXNlciBvYmplY3Qgd2l0aG91dCBwYXNzd29yZFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB1c2VyLl9pZC50b1N0cmluZygpLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0pLFxuICBdLFxuICBhZGFwdGVyOiBNb25nb0RCQWRhcHRlcihjbGllbnRQcm9taXNlKSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiBcImp3dFwiLFxuICB9LFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XG4gICAgICAvLyBBZGQgdXNlciByb2xlIHRvIHRoZSB0b2tlbiB3aGVuIHVzZXIgc2lnbnMgaW5cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcbiAgICAgICAgdG9rZW4ucm9sZSA9IHVzZXIucm9sZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICAvLyBBZGQgdXNlciBpZCBhbmQgcm9sZSB0byB0aGUgc2Vzc2lvblxuICAgICAgaWYgKHNlc3Npb24udXNlcikge1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZCBhcyBzdHJpbmc7XG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZSBhcyBzdHJpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogXCIvYXV0aC9zaWduaW5cIixcbiAgICAvLyBBZGQgY3VzdG9tIHBhZ2VzIGhlcmVcbiAgICBuZXdVc2VyOiBcIi9hdXRoL3NpZ251cFwiLFxuICB9LFxufTtcblxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfTtcbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIk1vbmdvREJBZGFwdGVyIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsIkdpdEh1YlByb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJjb21wYXJlIiwiY2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJtb25nb29zZSIsIlVzZXJNb2RlbCIsIm1vZGVsIiwiZSIsIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwiU3RyaW5nIiwiZW1haWwiLCJ0eXBlIiwidW5pcXVlIiwicmVxdWlyZWQiLCJwYXNzd29yZCIsInJvbGUiLCJlbnVtIiwiZGVmYXVsdCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkdJVEhVQl9JRCIsImNsaWVudFNlY3JldCIsIkdJVEhVQl9TRUNSRVQiLCJHT09HTEVfSUQiLCJHT09HTEVfU0VDUkVUIiwiY3JlZGVudGlhbHMiLCJsYWJlbCIsImF1dGhvcml6ZSIsInVzZXIiLCJmaW5kT25lIiwiaXNQYXNzd29yZFZhbGlkIiwiaWQiLCJfaWQiLCJ0b1N0cmluZyIsImFkYXB0ZXIiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInBhZ2VzIiwic2lnbkluIiwibmV3VXNlciIsImhhbmRsZXIiLCJHRVQiLCJQT1NUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sessions/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/sessions/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth_nextauth_route__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth/[...nextauth]/route */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _models_Session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/models/Session */ \"(rsc)/./src/models/Session.ts\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n\n\n\n\n\n\n\n// Define User model\nlet UserModel;\ntry {\n    // Try to get the model if it exists\n    UserModel = mongoose__WEBPACK_IMPORTED_MODULE_5___default().model(\"User\");\n} catch (e) {\n    // Define User schema if not already defined\n    const UserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_5___default().Schema)({\n        name: String,\n        email: {\n            type: String,\n            unique: true,\n            required: true\n        },\n        password: String,\n        role: {\n            type: String,\n            enum: [\n                \"user\",\n                \"admin\"\n            ],\n            default: \"user\"\n        },\n        createdAt: {\n            type: Date,\n            default: Date.now\n        }\n    });\n    // Create the model\n    UserModel = mongoose__WEBPACK_IMPORTED_MODULE_5___default().model(\"User\", UserSchema);\n}\nasync function POST(req) {\n    try {\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.connect)();\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session || !session.user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Authentication required\"\n            }, {\n                status: 401\n            });\n        }\n        const { name, estimationType = \"fibonacci\" } = await req.json();\n        if (!name) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Session name is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Get user ID, handling both ObjectId and string formats\n        const userId = session.user.id;\n        console.log(\"Creating session for user:\", userId, \"with email:\", session.user.email);\n        // Handle case for test user or missing ID\n        let ownerId = userId;\n        if (!userId && session.user.email === \"test@example.com\") {\n            ownerId = \"test-user-1\";\n            console.log(\"Using test-user-1 ID for test@example.com user\");\n        }\n        // Create the session\n        const shareLink = (0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n        console.log(`Creating session \"${name}\" with owner ${ownerId}`);\n        // Promote user to admin role if they're not already an admin\n        if (userId && session.user.role !== \"admin\") {\n            try {\n                // Check if the user exists in the database\n                const user = await UserModel.findById(userId);\n                if (user) {\n                    // Update user role to admin\n                    user.role = \"admin\";\n                    await user.save();\n                    console.log(`User ${userId} promoted to admin role after creating a session`);\n                } else {\n                    console.warn(`Could not find user with ID ${userId} to promote to admin`);\n                }\n            } catch (error) {\n                console.error(\"Error promoting user to admin:\", error);\n            // Continue with session creation even if promotion fails\n            }\n        }\n        const newSession = await _models_Session__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create({\n            name,\n            ownerId: ownerId,\n            participants: [\n                ownerId\n            ],\n            tasks: [],\n            estimationType,\n            status: \"active\",\n            shareLink\n        });\n        console.log(\"Session created successfully with ID:\", newSession._id);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(newSession, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error creating session:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to create session\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        // Check authentication\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session || !session.user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Connect to database\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.connect)();\n        // Get user's sessions (both owned and participating)\n        const userId = session.user.id;\n        console.log(\"Fetching sessions for user:\", userId);\n        // Special case for test users or if userId is undefined\n        if (!userId) {\n            console.log(\"No user ID found, using test user fallback\");\n            const allSessions = await _models_Session__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({}).sort({\n                updatedAt: -1\n            });\n            console.log(`Found ${allSessions.length} sessions in total`);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(allSessions);\n        }\n        let query = {};\n        try {\n            if (mongoose__WEBPACK_IMPORTED_MODULE_5___default().isValidObjectId(userId)) {\n                // For valid MongoDB ObjectIds\n                const userObjectId = new (mongoose__WEBPACK_IMPORTED_MODULE_5___default().Types).ObjectId(userId);\n                query = {\n                    $or: [\n                        {\n                            ownerId: userObjectId\n                        },\n                        {\n                            participants: userObjectId\n                        }\n                    ]\n                };\n                console.log(\"Using ObjectId query:\", JSON.stringify(query));\n            } else {\n                // For test users with string IDs\n                query = {\n                    $or: [\n                        {\n                            ownerId: userId\n                        },\n                        {\n                            participants: userId\n                        }\n                    ]\n                };\n                console.log(\"Using string ID query:\", JSON.stringify(query));\n            }\n        } catch (error) {\n            console.error(\"Error building query:\", error);\n            // Fallback to showing all sessions in case of query error\n            query = {};\n        }\n        const sessions = await _models_Session__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find(query).sort({\n            updatedAt: -1\n        });\n        console.log(`Found ${sessions.length} sessions for user ${userId}`);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(sessions);\n    } catch (error) {\n        console.error(\"Failed to get sessions:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Failed to get sessions\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZS50cz84ZWI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gXCIuLi9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwiQC9saWIvZGJcIjtcbmltcG9ydCBTZXNzaW9uTW9kZWwgZnJvbSBcIkAvbW9kZWxzL1Nlc3Npb25cIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5cbi8vIERlZmluZSBVc2VyIG1vZGVsXG5sZXQgVXNlck1vZGVsOiBtb25nb29zZS5Nb2RlbDxhbnk+O1xuXG50cnkge1xuICAvLyBUcnkgdG8gZ2V0IHRoZSBtb2RlbCBpZiBpdCBleGlzdHNcbiAgVXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoXCJVc2VyXCIpO1xufSBjYXRjaCAoZSkge1xuICAvLyBEZWZpbmUgVXNlciBzY2hlbWEgaWYgbm90IGFscmVhZHkgZGVmaW5lZFxuICBjb25zdCBVc2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTogU3RyaW5nLFxuICAgIGVtYWlsOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB1bmlxdWU6IHRydWUsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHBhc3N3b3JkOiBTdHJpbmcsXG4gICAgcm9sZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZW51bTogW1widXNlclwiLCBcImFkbWluXCJdLFxuICAgICAgZGVmYXVsdDogXCJ1c2VyXCIsXG4gICAgfSxcbiAgICBjcmVhdGVkQXQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vdyxcbiAgICB9LFxuICB9KTtcblxuICAvLyBDcmVhdGUgdGhlIG1vZGVsXG4gIFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCBVc2VyU2NoZW1hKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGF3YWl0IGNvbm5lY3QoKTtcblxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24udXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBcIkF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbmFtZSwgZXN0aW1hdGlvblR5cGUgPSBcImZpYm9uYWNjaVwiIH0gPSBhd2FpdCByZXEuanNvbigpO1xuXG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiU2Vzc2lvbiBuYW1lIGlzIHJlcXVpcmVkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEdldCB1c2VyIElELCBoYW5kbGluZyBib3RoIE9iamVjdElkIGFuZCBzdHJpbmcgZm9ybWF0c1xuICAgIGNvbnN0IHVzZXJJZCA9IHNlc3Npb24udXNlci5pZDtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwiQ3JlYXRpbmcgc2Vzc2lvbiBmb3IgdXNlcjpcIixcbiAgICAgIHVzZXJJZCxcbiAgICAgIFwid2l0aCBlbWFpbDpcIixcbiAgICAgIHNlc3Npb24udXNlci5lbWFpbFxuICAgICk7XG5cbiAgICAvLyBIYW5kbGUgY2FzZSBmb3IgdGVzdCB1c2VyIG9yIG1pc3NpbmcgSURcbiAgICBsZXQgb3duZXJJZCA9IHVzZXJJZDtcbiAgICBpZiAoIXVzZXJJZCAmJiBzZXNzaW9uLnVzZXIuZW1haWwgPT09IFwidGVzdEBleGFtcGxlLmNvbVwiKSB7XG4gICAgICBvd25lcklkID0gXCJ0ZXN0LXVzZXItMVwiO1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyB0ZXN0LXVzZXItMSBJRCBmb3IgdGVzdEBleGFtcGxlLmNvbSB1c2VyXCIpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgc2Vzc2lvblxuICAgIGNvbnN0IHNoYXJlTGluayA9IHV1aWR2NCgpO1xuICAgIGNvbnNvbGUubG9nKGBDcmVhdGluZyBzZXNzaW9uIFwiJHtuYW1lfVwiIHdpdGggb3duZXIgJHtvd25lcklkfWApO1xuXG4gICAgLy8gUHJvbW90ZSB1c2VyIHRvIGFkbWluIHJvbGUgaWYgdGhleSdyZSBub3QgYWxyZWFkeSBhbiBhZG1pblxuICAgIGlmICh1c2VySWQgJiYgc2Vzc2lvbi51c2VyLnJvbGUgIT09IFwiYWRtaW5cIikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgZXhpc3RzIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkKHVzZXJJZCk7XG5cbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAvLyBVcGRhdGUgdXNlciByb2xlIHRvIGFkbWluXG4gICAgICAgICAgdXNlci5yb2xlID0gXCJhZG1pblwiO1xuICAgICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYFVzZXIgJHt1c2VySWR9IHByb21vdGVkIHRvIGFkbWluIHJvbGUgYWZ0ZXIgY3JlYXRpbmcgYSBzZXNzaW9uYFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgYENvdWxkIG5vdCBmaW5kIHVzZXIgd2l0aCBJRCAke3VzZXJJZH0gdG8gcHJvbW90ZSB0byBhZG1pbmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvbW90aW5nIHVzZXIgdG8gYWRtaW46XCIsIGVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgd2l0aCBzZXNzaW9uIGNyZWF0aW9uIGV2ZW4gaWYgcHJvbW90aW9uIGZhaWxzXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbmV3U2Vzc2lvbiA9IGF3YWl0IFNlc3Npb25Nb2RlbC5jcmVhdGUoe1xuICAgICAgbmFtZSxcbiAgICAgIG93bmVySWQ6IG93bmVySWQsXG4gICAgICBwYXJ0aWNpcGFudHM6IFtvd25lcklkXSxcbiAgICAgIHRhc2tzOiBbXSxcbiAgICAgIGVzdGltYXRpb25UeXBlLFxuICAgICAgc3RhdHVzOiBcImFjdGl2ZVwiLFxuICAgICAgc2hhcmVMaW5rLFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCJTZXNzaW9uIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IHdpdGggSUQ6XCIsIG5ld1Nlc3Npb24uX2lkKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24obmV3U2Vzc2lvbiwgeyBzdGF0dXM6IDIwMSB9KTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZXNzaW9uOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb25cIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgYXV0aGVudGljYXRpb25cbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XG5cbiAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24udXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIC8vIENvbm5lY3QgdG8gZGF0YWJhc2VcbiAgICBhd2FpdCBjb25uZWN0KCk7XG5cbiAgICAvLyBHZXQgdXNlcidzIHNlc3Npb25zIChib3RoIG93bmVkIGFuZCBwYXJ0aWNpcGF0aW5nKVxuICAgIGNvbnN0IHVzZXJJZCA9IHNlc3Npb24udXNlci5pZDtcbiAgICBjb25zb2xlLmxvZyhcIkZldGNoaW5nIHNlc3Npb25zIGZvciB1c2VyOlwiLCB1c2VySWQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciB0ZXN0IHVzZXJzIG9yIGlmIHVzZXJJZCBpcyB1bmRlZmluZWRcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgY29uc29sZS5sb2coXCJObyB1c2VyIElEIGZvdW5kLCB1c2luZyB0ZXN0IHVzZXIgZmFsbGJhY2tcIik7XG4gICAgICBjb25zdCBhbGxTZXNzaW9ucyA9IGF3YWl0IFNlc3Npb25Nb2RlbC5maW5kKHt9KS5zb3J0KHsgdXBkYXRlZEF0OiAtMSB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2FsbFNlc3Npb25zLmxlbmd0aH0gc2Vzc2lvbnMgaW4gdG90YWxgKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihhbGxTZXNzaW9ucyk7XG4gICAgfVxuXG4gICAgbGV0IHF1ZXJ5ID0ge307XG4gICAgdHJ5IHtcbiAgICAgIGlmIChtb25nb29zZS5pc1ZhbGlkT2JqZWN0SWQodXNlcklkKSkge1xuICAgICAgICAvLyBGb3IgdmFsaWQgTW9uZ29EQiBPYmplY3RJZHNcbiAgICAgICAgY29uc3QgdXNlck9iamVjdElkID0gbmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKHVzZXJJZCk7XG4gICAgICAgIHF1ZXJ5ID0ge1xuICAgICAgICAgICRvcjogW3sgb3duZXJJZDogdXNlck9iamVjdElkIH0sIHsgcGFydGljaXBhbnRzOiB1c2VyT2JqZWN0SWQgfV0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgT2JqZWN0SWQgcXVlcnk6XCIsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgdGVzdCB1c2VycyB3aXRoIHN0cmluZyBJRHNcbiAgICAgICAgcXVlcnkgPSB7ICRvcjogW3sgb3duZXJJZDogdXNlcklkIH0sIHsgcGFydGljaXBhbnRzOiB1c2VySWQgfV0gfTtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyBzdHJpbmcgSUQgcXVlcnk6XCIsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBidWlsZGluZyBxdWVyeTpcIiwgZXJyb3IpO1xuICAgICAgLy8gRmFsbGJhY2sgdG8gc2hvd2luZyBhbGwgc2Vzc2lvbnMgaW4gY2FzZSBvZiBxdWVyeSBlcnJvclxuICAgICAgcXVlcnkgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IFNlc3Npb25Nb2RlbC5maW5kKHF1ZXJ5KS5zb3J0KHsgdXBkYXRlZEF0OiAtMSB9KTtcbiAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtzZXNzaW9ucy5sZW5ndGh9IHNlc3Npb25zIGZvciB1c2VyICR7dXNlcklkfWApO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHNlc3Npb25zKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBzZXNzaW9uczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgbWVzc2FnZTogXCJGYWlsZWQgdG8gZ2V0IHNlc3Npb25zXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJjb25uZWN0IiwiU2Vzc2lvbk1vZGVsIiwibW9uZ29vc2UiLCJ2NCIsInV1aWR2NCIsIlVzZXJNb2RlbCIsIm1vZGVsIiwiZSIsIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwiU3RyaW5nIiwiZW1haWwiLCJ0eXBlIiwidW5pcXVlIiwicmVxdWlyZWQiLCJwYXNzd29yZCIsInJvbGUiLCJlbnVtIiwiZGVmYXVsdCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJQT1NUIiwicmVxIiwic2Vzc2lvbiIsInVzZXIiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJlc3RpbWF0aW9uVHlwZSIsInVzZXJJZCIsImlkIiwiY29uc29sZSIsImxvZyIsIm93bmVySWQiLCJzaGFyZUxpbmsiLCJmaW5kQnlJZCIsInNhdmUiLCJ3YXJuIiwibmV3U2Vzc2lvbiIsImNyZWF0ZSIsInBhcnRpY2lwYW50cyIsInRhc2tzIiwiX2lkIiwiR0VUIiwicmVxdWVzdCIsIm1lc3NhZ2UiLCJhbGxTZXNzaW9ucyIsImZpbmQiLCJzb3J0IiwidXBkYXRlZEF0IiwibGVuZ3RoIiwicXVlcnkiLCJpc1ZhbGlkT2JqZWN0SWQiLCJ1c2VyT2JqZWN0SWQiLCJUeXBlcyIsIk9iamVjdElkIiwiJG9yIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlc3Npb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sessions/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connect: () => (/* binding */ connect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\n * Global is used here to maintain a cached connection across hot reloads\n * in development. This prevents connections growing exponentially\n * during API Route usage.\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connect() {\n    if (cached.conn) {\n        console.log(\"Using existing MongoDB connection\");\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        // Configure options to address TLS compatibility issues with Node.js 18\n        const opts = {\n            bufferCommands: false,\n            autoIndex: true,\n            maxPoolSize: 10,\n            socketTimeoutMS: 45000,\n            family: 4\n        };\n        console.log(\"Creating new MongoDB connection...\");\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            console.log(\"MongoDB connected successfully\");\n            mongoose.connection.on(\"error\", (err)=>{\n                console.error(\"MongoDB connection error:\", err);\n            });\n            mongoose.connection.on(\"disconnected\", ()=>{\n                console.warn(\"MongoDB disconnected, attempting to reconnect...\");\n                cached.promise = null; // Reset the promise to allow reconnection\n                cached.conn = null;\n            });\n            return mongoose;\n        }).catch((err)=>{\n            console.error(\"MongoDB connection error:\", err);\n            // Reset the promise so we can try again\n            cached.promise = null;\n            throw err;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        console.error(\"Failed to await MongoDB connection:\", e);\n        throw e;\n    }\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFDUjtBQUVKO0FBRUE7Ozs7Q0FJQyxHQUNELElBQUlDLFNBQVNDLE9BQU9OLFFBQVE7QUFFNUIsSUFBSSxDQUFDSyxRQUFRO0lBQ1hBLFNBQVNDLE9BQU9OLFFBQVEsR0FBRztRQUFFTyxNQUFNO1FBQU1DLFNBQVM7SUFBSztBQUN6RDtBQUVPLGVBQWVDO0lBQ3BCLElBQUlKLE9BQU9FLElBQUksRUFBRTtRQUNmRyxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPTixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsd0VBQXdFO1FBQ3hFLE1BQU1JLE9BQU87WUFDWEMsZ0JBQWdCO1lBQ2hCQyxXQUFXO1lBQ1hDLGFBQWE7WUFDYkMsaUJBQWlCO1lBQ2pCQyxRQUFRO1FBQ1Y7UUFFQVAsUUFBUUMsR0FBRyxDQUFDO1FBRVpOLE9BQU9HLE9BQU8sR0FBR1IsdURBQ1AsQ0FBQ0MsYUFBYVcsTUFDckJNLElBQUksQ0FBQyxDQUFDbEI7WUFDTFUsUUFBUUMsR0FBRyxDQUFDO1lBQ1pYLFNBQVNtQixVQUFVLENBQUNDLEVBQUUsQ0FBQyxTQUFTLENBQUNDO2dCQUMvQlgsUUFBUVksS0FBSyxDQUFDLDZCQUE2QkQ7WUFDN0M7WUFFQXJCLFNBQVNtQixVQUFVLENBQUNDLEVBQUUsQ0FBQyxnQkFBZ0I7Z0JBQ3JDVixRQUFRYSxJQUFJLENBQUM7Z0JBQ2JsQixPQUFPRyxPQUFPLEdBQUcsTUFBTSwwQ0FBMEM7Z0JBQ2pFSCxPQUFPRSxJQUFJLEdBQUc7WUFDaEI7WUFFQSxPQUFPUDtRQUNULEdBQ0N3QixLQUFLLENBQUMsQ0FBQ0g7WUFDTlgsUUFBUVksS0FBSyxDQUFDLDZCQUE2QkQ7WUFDM0Msd0NBQXdDO1lBQ3hDaEIsT0FBT0csT0FBTyxHQUFHO1lBQ2pCLE1BQU1hO1FBQ1I7SUFDSjtJQUVBLElBQUk7UUFDRmhCLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ3BDLEVBQUUsT0FBT2lCLEdBQUc7UUFDVnBCLE9BQU9HLE9BQU8sR0FBRztRQUNqQkUsUUFBUVksS0FBSyxDQUFDLHVDQUF1Q0c7UUFDckQsTUFBTUE7SUFDUjtJQUVBLE9BQU9wQixPQUFPRSxJQUFJO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3Vyc29yLXBsYW5uaW5nLXBva2VyLy4vc3JjL2xpYi9kYi50cz85ZTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSE7XG5cbmlmICghTU9OR09EQl9VUkkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIFwiUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWxcIlxuICApO1xufVxuXG4vKipcbiAqIEdsb2JhbCBpcyB1c2VkIGhlcmUgdG8gbWFpbnRhaW4gYSBjYWNoZWQgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcbiAqIGluIGRldmVsb3BtZW50LiBUaGlzIHByZXZlbnRzIGNvbm5lY3Rpb25zIGdyb3dpbmcgZXhwb25lbnRpYWxseVxuICogZHVyaW5nIEFQSSBSb3V0ZSB1c2FnZS5cbiAqL1xubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcblxuaWYgKCFjYWNoZWQpIHtcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0KCkge1xuICBpZiAoY2FjaGVkLmNvbm4pIHtcbiAgICBjb25zb2xlLmxvZyhcIlVzaW5nIGV4aXN0aW5nIE1vbmdvREIgY29ubmVjdGlvblwiKTtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XG4gIH1cblxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XG4gICAgLy8gQ29uZmlndXJlIG9wdGlvbnMgdG8gYWRkcmVzcyBUTFMgY29tcGF0aWJpbGl0eSBpc3N1ZXMgd2l0aCBOb2RlLmpzIDE4XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcbiAgICAgIGF1dG9JbmRleDogdHJ1ZSxcbiAgICAgIG1heFBvb2xTaXplOiAxMCxcbiAgICAgIHNvY2tldFRpbWVvdXRNUzogNDUwMDAsXG4gICAgICBmYW1pbHk6IDQsIC8vIEZvcmNlIElQdjRcbiAgICB9O1xuXG4gICAgY29uc29sZS5sb2coXCJDcmVhdGluZyBuZXcgTW9uZ29EQiBjb25uZWN0aW9uLi4uXCIpO1xuXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZVxuICAgICAgLmNvbm5lY3QoTU9OR09EQl9VUkksIG9wdHMpXG4gICAgICAudGhlbigobW9uZ29vc2UpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJNb25nb0RCIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24ub24oXCJlcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIk1vbmdvREIgY29ubmVjdGlvbiBlcnJvcjpcIiwgZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbihcImRpc2Nvbm5lY3RlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiTW9uZ29EQiBkaXNjb25uZWN0ZWQsIGF0dGVtcHRpbmcgdG8gcmVjb25uZWN0Li4uXCIpO1xuICAgICAgICAgIGNhY2hlZC5wcm9taXNlID0gbnVsbDsgLy8gUmVzZXQgdGhlIHByb21pc2UgdG8gYWxsb3cgcmVjb25uZWN0aW9uXG4gICAgICAgICAgY2FjaGVkLmNvbm4gPSBudWxsO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbW9uZ29vc2U7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk1vbmdvREIgY29ubmVjdGlvbiBlcnJvcjpcIiwgZXJyKTtcbiAgICAgICAgLy8gUmVzZXQgdGhlIHByb21pc2Ugc28gd2UgY2FuIHRyeSBhZ2FpblxuICAgICAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gYXdhaXQgTW9uZ29EQiBjb25uZWN0aW9uOlwiLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG5cbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xufVxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwiYXV0b0luZGV4IiwibWF4UG9vbFNpemUiLCJzb2NrZXRUaW1lb3V0TVMiLCJmYW1pbHkiLCJ0aGVuIiwiY29ubmVjdGlvbiIsIm9uIiwiZXJyIiwiZXJyb3IiLCJ3YXJuIiwiY2F0Y2giLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\n}\nconst uri = process.env.MONGODB_URI;\n// Configure options to address TLS compatibility issues\nconst options = {\n    maxPoolSize: 10,\n    socketTimeoutMS: 45000,\n    connectTimeoutMS: 10000,\n    family: 4\n};\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    let globalWithMongo = global;\n    if (!globalWithMongo._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        globalWithMongo._mongoClientPromise = client.connect();\n    }\n    clientPromise = globalWithMongo._mongoClientPromise;\n} else {}\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNDO0FBRXRDLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLEVBQUU7SUFDNUIsTUFBTSxJQUFJQyxNQUFNO0FBQ2xCO0FBRUEsTUFBTUMsTUFBTUosUUFBUUMsR0FBRyxDQUFDQyxXQUFXO0FBQ25DLHdEQUF3RDtBQUN4RCxNQUFNRyxVQUFVO0lBQ2RDLGFBQWE7SUFDYkMsaUJBQWlCO0lBQ2pCQyxrQkFBa0I7SUFDbEJDLFFBQVE7QUFDVjtBQUVBLElBQUlDO0FBQ0osSUFBSUM7QUFFSixJQUFJWCxJQUFzQyxFQUFFO0lBQzFDLCtEQUErRDtJQUMvRCw2RUFBNkU7SUFDN0UsSUFBSVksa0JBQWtCQztJQUl0QixJQUFJLENBQUNELGdCQUFnQkUsbUJBQW1CLEVBQUU7UUFDeENKLFNBQVMsSUFBSVgsZ0RBQVdBLENBQUNLLEtBQUtDO1FBQzlCTyxnQkFBZ0JFLG1CQUFtQixHQUFHSixPQUFPSyxPQUFPO0lBQ3REO0lBQ0FKLGdCQUFnQkMsZ0JBQWdCRSxtQkFBbUI7QUFDckQsT0FBTyxFQUlOO0FBRUQsaUVBQWlFO0FBQ2pFLDhEQUE4RDtBQUM5RCxpRUFBZUgsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2N1cnNvci1wbGFubmluZy1wb2tlci8uL3NyYy9saWIvbW9uZ29kYi50cz81M2MyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSBcIm1vbmdvZGJcIjtcblxuaWYgKCFwcm9jZXNzLmVudi5NT05HT0RCX1VSSSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQvTWlzc2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZTogXCJNT05HT0RCX1VSSVwiJyk7XG59XG5cbmNvbnN0IHVyaSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuLy8gQ29uZmlndXJlIG9wdGlvbnMgdG8gYWRkcmVzcyBUTFMgY29tcGF0aWJpbGl0eSBpc3N1ZXNcbmNvbnN0IG9wdGlvbnMgPSB7XG4gIG1heFBvb2xTaXplOiAxMCxcbiAgc29ja2V0VGltZW91dE1TOiA0NTAwMCxcbiAgY29ubmVjdFRpbWVvdXRNUzogMTAwMDAsXG4gIGZhbWlseTogNCwgLy8gRm9yY2UgSVB2NFxufTtcblxubGV0IGNsaWVudDtcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PjtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQgbW9kZSwgdXNlIGEgZ2xvYmFsIHZhcmlhYmxlIHNvIHRoYXQgdGhlIHZhbHVlXG4gIC8vIGlzIHByZXNlcnZlZCBhY3Jvc3MgbW9kdWxlIHJlbG9hZHMgY2F1c2VkIGJ5IEhNUiAoSG90IE1vZHVsZSBSZXBsYWNlbWVudCkuXG4gIGxldCBnbG9iYWxXaXRoTW9uZ28gPSBnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbFRoaXMgJiB7XG4gICAgX21vbmdvQ2xpZW50UHJvbWlzZT86IFByb21pc2U8TW9uZ29DbGllbnQ+O1xuICB9O1xuXG4gIGlmICghZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2UpIHtcbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKTtcbiAgICBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCk7XG4gIH1cbiAgY2xpZW50UHJvbWlzZSA9IGdsb2JhbFdpdGhNb25nby5fbW9uZ29DbGllbnRQcm9taXNlO1xufSBlbHNlIHtcbiAgLy8gSW4gcHJvZHVjdGlvbiBtb2RlLCBpdCdzIGJlc3QgdG8gbm90IHVzZSBhIGdsb2JhbCB2YXJpYWJsZS5cbiAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucyk7XG4gIGNsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpO1xufVxuXG4vLyBFeHBvcnQgYSBtb2R1bGUtc2NvcGVkIE1vbmdvQ2xpZW50IHByb21pc2UuIEJ5IGRvaW5nIHRoaXMgaW4gYVxuLy8gc2VwYXJhdGUgbW9kdWxlLCB0aGUgY2xpZW50IGNhbiBiZSBzaGFyZWQgYWNyb3NzIGZ1bmN0aW9ucy5cbmV4cG9ydCBkZWZhdWx0IGNsaWVudFByb21pc2U7XG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJFcnJvciIsInVyaSIsIm9wdGlvbnMiLCJtYXhQb29sU2l6ZSIsInNvY2tldFRpbWVvdXRNUyIsImNvbm5lY3RUaW1lb3V0TVMiLCJmYW1pbHkiLCJjbGllbnQiLCJjbGllbnRQcm9taXNlIiwiZ2xvYmFsV2l0aE1vbmdvIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Session.ts":
/*!*******************************!*\
  !*** ./src/models/Session.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst SessionSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    ownerId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    participants: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: \"User\"\n        }\n    ],\n    tasks: [\n        {\n            title: {\n                type: String,\n                required: true\n            },\n            description: String,\n            jiraId: String,\n            estimates: [\n                {\n                    userId: {\n                        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n                        ref: \"User\"\n                    },\n                    value: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n                }\n            ],\n            aiEstimate: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n            finalEstimate: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n            status: {\n                type: String,\n                enum: [\n                    \"pending\",\n                    \"active\",\n                    \"completed\"\n                ],\n                default: \"pending\"\n            }\n        }\n    ],\n    estimationType: {\n        type: String,\n        enum: [\n            \"fibonacci\",\n            \"tshirt\"\n        ],\n        default: \"fibonacci\"\n    },\n    status: {\n        type: String,\n        enum: [\n            \"active\",\n            \"completed\"\n        ],\n        default: \"active\"\n    },\n    shareLink: {\n        type: String,\n        unique: true\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Session || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Session\", SessionSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1Nlc3Npb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBZW5ELE1BQU1FLGdCQUFnQixJQUFJRCw0Q0FBTUEsQ0FDOUI7SUFDRUUsTUFBTTtRQUNKQyxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUMsU0FBUztRQUNQSCxNQUFNSCw0Q0FBTUEsQ0FBQ08sS0FBSyxDQUFDQyxRQUFRO1FBQzNCQyxLQUFLO1FBQ0xKLFVBQVU7SUFDWjtJQUNBSyxjQUFjO1FBQ1o7WUFDRVAsTUFBTUgsNENBQU1BLENBQUNPLEtBQUssQ0FBQ0MsUUFBUTtZQUMzQkMsS0FBSztRQUNQO0tBQ0Q7SUFDREUsT0FBTztRQUNMO1lBQ0VDLE9BQU87Z0JBQ0xULE1BQU1DO2dCQUNOQyxVQUFVO1lBQ1o7WUFDQVEsYUFBYVQ7WUFDYlUsUUFBUVY7WUFDUlcsV0FBVztnQkFDVDtvQkFDRUMsUUFBUTt3QkFDTmIsTUFBTUgsNENBQU1BLENBQUNPLEtBQUssQ0FBQ0MsUUFBUTt3QkFDM0JDLEtBQUs7b0JBQ1A7b0JBQ0FRLE9BQU9qQiw0Q0FBTUEsQ0FBQ08sS0FBSyxDQUFDVyxLQUFLO2dCQUMzQjthQUNEO1lBQ0RDLFlBQVluQiw0Q0FBTUEsQ0FBQ08sS0FBSyxDQUFDVyxLQUFLO1lBQzlCRSxlQUFlcEIsNENBQU1BLENBQUNPLEtBQUssQ0FBQ1csS0FBSztZQUNqQ0csUUFBUTtnQkFDTmxCLE1BQU1DO2dCQUNOa0IsTUFBTTtvQkFBQztvQkFBVztvQkFBVTtpQkFBWTtnQkFDeENDLFNBQVM7WUFDWDtRQUNGO0tBQ0Q7SUFDREMsZ0JBQWdCO1FBQ2RyQixNQUFNQztRQUNOa0IsTUFBTTtZQUFDO1lBQWE7U0FBUztRQUM3QkMsU0FBUztJQUNYO0lBQ0FGLFFBQVE7UUFDTmxCLE1BQU1DO1FBQ05rQixNQUFNO1lBQUM7WUFBVTtTQUFZO1FBQzdCQyxTQUFTO0lBQ1g7SUFDQUUsV0FBVztRQUNUdEIsTUFBTUM7UUFDTnNCLFFBQVE7SUFDVjtBQUNGLEdBQ0E7SUFDRUMsWUFBWTtBQUNkO0FBR0YsaUVBQWU1Qix3REFBZSxDQUFDOEIsT0FBTyxJQUNwQzlCLHFEQUFjLENBQVcsV0FBV0UsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2N1cnNvci1wbGFubmluZy1wb2tlci8uL3NyYy9tb2RlbHMvU2Vzc2lvbi50cz8zOTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEsIFR5cGVzIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgeyBJVGFzayB9IGZyb20gXCIuL1Rhc2tcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJU2Vzc2lvbiB7XG4gIG5hbWU6IHN0cmluZztcbiAgb3duZXJJZDogVHlwZXMuT2JqZWN0SWQ7XG4gIHBhcnRpY2lwYW50czogVHlwZXMuT2JqZWN0SWRbXTtcbiAgdGFza3M6IElUYXNrW107XG4gIGVzdGltYXRpb25UeXBlOiBcImZpYm9uYWNjaVwiIHwgXCJ0c2hpcnRcIjtcbiAgc3RhdHVzOiBcImFjdGl2ZVwiIHwgXCJjb21wbGV0ZWRcIjtcbiAgc2hhcmVMaW5rOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG5jb25zdCBTZXNzaW9uU2NoZW1hID0gbmV3IFNjaGVtYTxJU2Vzc2lvbj4oXG4gIHtcbiAgICBuYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIG93bmVySWQ6IHtcbiAgICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgIHJlZjogXCJVc2VyXCIsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHBhcnRpY2lwYW50czogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogXCJVc2VyXCIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgdGFza3M6IFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGRlc2NyaXB0aW9uOiBTdHJpbmcsXG4gICAgICAgIGppcmFJZDogU3RyaW5nLFxuICAgICAgICBlc3RpbWF0ZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IHtcbiAgICAgICAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICAgICAgICByZWY6IFwiVXNlclwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbHVlOiBTY2hlbWEuVHlwZXMuTWl4ZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgYWlFc3RpbWF0ZTogU2NoZW1hLlR5cGVzLk1peGVkLFxuICAgICAgICBmaW5hbEVzdGltYXRlOiBTY2hlbWEuVHlwZXMuTWl4ZWQsXG4gICAgICAgIHN0YXR1czoge1xuICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICBlbnVtOiBbXCJwZW5kaW5nXCIsIFwiYWN0aXZlXCIsIFwiY29tcGxldGVkXCJdLFxuICAgICAgICAgIGRlZmF1bHQ6IFwicGVuZGluZ1wiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdLFxuICAgIGVzdGltYXRpb25UeXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBlbnVtOiBbXCJmaWJvbmFjY2lcIiwgXCJ0c2hpcnRcIl0sXG4gICAgICBkZWZhdWx0OiBcImZpYm9uYWNjaVwiLFxuICAgIH0sXG4gICAgc3RhdHVzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBlbnVtOiBbXCJhY3RpdmVcIiwgXCJjb21wbGV0ZWRcIl0sXG4gICAgICBkZWZhdWx0OiBcImFjdGl2ZVwiLFxuICAgIH0sXG4gICAgc2hhcmVMaW5rOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB1bmlxdWU6IHRydWUsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5TZXNzaW9uIHx8XG4gIG1vbmdvb3NlLm1vZGVsPElTZXNzaW9uPihcIlNlc3Npb25cIiwgU2Vzc2lvblNjaGVtYSk7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJTZXNzaW9uU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm93bmVySWQiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicGFydGljaXBhbnRzIiwidGFza3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiamlyYUlkIiwiZXN0aW1hdGVzIiwidXNlcklkIiwidmFsdWUiLCJNaXhlZCIsImFpRXN0aW1hdGUiLCJmaW5hbEVzdGltYXRlIiwic3RhdHVzIiwiZW51bSIsImRlZmF1bHQiLCJlc3RpbWF0aW9uVHlwZSIsInNoYXJlTGluayIsInVuaXF1ZSIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJTZXNzaW9uIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Session.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/@auth","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsessions%2Froute&page=%2Fapi%2Fsessions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsessions%2Froute.ts&appDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhector.jaraba%2FProyects%2Fcursor-planning-poker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();